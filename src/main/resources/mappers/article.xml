<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.lottemarket.cs.mapper.ArticleMapper">

	<select id="selectArticles" resultType="kr.co.lottemarket.dto.ArticleDTO">
	    SELECT a.*, b.group_name, c.cate1_name, d.cate2_name
	    FROM lotte_board a
	    LEFT JOIN lotte_board_group b ON a.group = b.group
	    LEFT JOIN lotte_board_cate1 c ON a.group = c.group AND a.cate1 = c.cate1
	    LEFT JOIN lotte_board_cate2 d ON a.cate1 = d.cate1 AND a.cate2 = d.cate2
	    WHERE a.group = #{group} AND a.cate1 = #{cate1}
	    ORDER BY a.no DESC
	    limit 0, 10
	</select>
	
	 <select id="selectCate1" resultType="kr.co.lottemarket.dto.ArticleDTO">
		     SELECT *
			 FROM lotte_board_cate2
			 WHERE cate1 = #{cate1}
	 </select>
 
 	<select id="selectIndex" resultType="kr.co.lottemarket.dto.ArticleDTO">
	    SELECT a.*, b.group_name, c.cate1_name, d.cate2_name
	    FROM lotte_board a
	    LEFT JOIN lotte_board_group b ON a.group = b.group
	    LEFT JOIN lotte_board_cate1 c ON a.group = c.group AND a.cate1 = c.cate1
	    LEFT JOIN lotte_board_cate2 d ON a.cate1 = d.cate1 AND a.cate2 = d.cate2
	    WHERE a.group = #{group} AND a.parent = 0
	    ORDER BY a.no DESC
	    limit 0, 3
	</select>
	
	
	 <select id="selectAjaxCate2" resultType="kr.co.lottemarket.dto.ArticleDTO">
        SELECT *
        FROM lotte_board_cate1 AS a
        LEFT JOIN lotte_board_cate2 AS b
        ON a.cate1 = b.cate1
        WHERE a.group = #{group} and a.cate1 = #{cate1}
    </select>
    
    
     <select id="selectAjaxCate1" resultType="kr.co.lottemarket.dto.ArticleDTO">
        SELECT *
        FROM lotte_board_cate1
        WHERE `group` = #{group}
    </select>

	 <select id="selectComment" resultType="kr.co.lottemarket.dto.ArticleDTO">
	    SELECT a.*, b.group_name, c.cate1_name, d.cate2_name, c.cate1_discription
	    FROM lotte_board a
	    LEFT JOIN lotte_board_group b ON a.group = b.group
	    LEFT JOIN lotte_board_cate1 c ON a.group = c.group AND a.cate1 = c.cate1
	    LEFT JOIN lotte_board_cate2 d ON a.cate1 = d.cate1 AND a.cate2 = d.cate2
	    WHERE a.`group` = 3 and a.parent = #{no}
   </select>
 

</mapper>